"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3330],{3330:(_,u,l)=>{l.r(u),l.d(u,{BooksPageModule:()=>F});var c=l(2881),v=l(4341),r=l(9420),p=l(5207),o=l(1360),g=l(467);const f=[{id:1,titulo:"O Senhor dos An\xe9is",autor:"J.R.R. Tolkien",nota:4.5,quantidade:3,disponivel:!0},{id:2,titulo:"Cem Anos de Solid\xe3o",autor:"Gabriel Garc\xeda M\xe1rquez",nota:4.8,quantidade:1,disponivel:!0},{id:3,titulo:"Dom Casmurro",autor:"Machado de Assis",nota:4.2,quantidade:5,disponivel:!0},{id:4,titulo:"A Metamorfose",autor:"Franz Kafka",nota:4.3,quantidade:2,disponivel:!0},{id:5,titulo:"Grande Sert\xe3o: Veredas",autor:"Guimar\xe3es Rosa",nota:4.5,quantidade:4,disponivel:!0},{id:6,titulo:"1984",autor:"George Orwell",nota:4.7,quantidade:2,disponivel:!0},{id:7,titulo:"O Pequeno Pr\xedncipe",autor:"Antoine de Saint-Exup\xe9ry",nota:4.6,quantidade:7,disponivel:!0},{id:8,titulo:"Crime e Castigo",autor:"Fi\xf3dor Dostoi\xe9vski",nota:4.9,quantidade:1,disponivel:!0},{id:9,titulo:"O Nome da Rosa",autor:"Umberto Eco",nota:4.4,quantidade:3,disponivel:!0},{id:10,titulo:"O Apanhador no Campo de Centeio",autor:"J.D. Salinger",nota:4.1,quantidade:5,disponivel:!0},{id:11,titulo:"Ensaio Sobre a Cegueira",autor:"Jos\xe9 Saramago",nota:4.6,quantidade:2,disponivel:!0},{id:12,titulo:"Orgulho e Preconceito",autor:"Jane Austen",nota:4.5,quantidade:6,disponivel:!0},{id:13,titulo:"A Revolu\xe7\xe3o dos Bichos",autor:"George Orwell",nota:4.3,quantidade:4,disponivel:!0},{id:14,titulo:"Os Miser\xe1veis",autor:"Victor Hugo",nota:4.8,quantidade:2,disponivel:!0},{id:15,titulo:"O Processo",autor:"Franz Kafka",nota:4.4,quantidade:1,disponivel:!0}];class h{constructor(n,i,e,a,s,d){this.id=n,this.titulo=i,this.autor=e,this.nota=a,this.quantidade=s,this.disponivel=d}verificarDisponibilidade(){return this.disponivel}}let k=(()=>{var t;class n{constructor(){this.listaLivros=f.map(e=>new h(e.id,e.titulo,e.autor,e.nota,e.quantidade,e.disponivel))}getLivros(){return this.listaLivros}alugarLivro(e){const a=this.listaLivros.find(s=>s.id===e);return!!(a&&a.quantidade>0)&&(a.quantidade--,!0)}}return(t=n).\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const b=()=>[1,2,3,4,5];function C(t,n){if(1&t&&(o.qex(0),o.nrm(1,"ion-icon",11),o.bVm()),2&t){const i=n.index,e=o.XpG().$implicit;o.R7$(),o.Y8G("name",e.nota>=i+1?"star":e.nota>=i+.5?"star-half":"star-outline")}}function x(t,n){if(1&t){const i=o.RV6();o.j41(0,"ion-item",3)(1,"ion-label")(2,"div",4),o.EFF(3),o.k0s(),o.j41(4,"div",5),o.EFF(5),o.k0s(),o.j41(6,"div",6),o.DNE(7,C,2,1,"ng-container",7),o.j41(8,"span",8),o.EFF(9),o.k0s()(),o.j41(10,"div",9),o.EFF(11),o.k0s()(),o.j41(12,"ion-button",10),o.bIt("click",function(){const a=o.eBV(i).$implicit,s=o.XpG();return o.Njj(s.presentAlert(a))}),o.EFF(13,"Alugar"),o.k0s()()}if(2&t){const i=n.$implicit;o.R7$(3),o.JRh(i.titulo),o.R7$(2),o.JRh(i.autor),o.R7$(2),o.Y8G("ngForOf",o.lJ4(6,b)),o.R7$(2),o.JRh(i.nota),o.R7$(2),o.Lme(" Dispon\xedvel: ",i.disponivel," ",1===i.disponivel?"unidade":"unidades"," ")}}let m=(()=>{var t;class n{constructor(e,a){this.bookService=e,this.alertController=a,this.books=[],this.filteredBooks=this.books,this.books=e.getLivros(),this.filteredBooks=this.books}ngOnInit(){}onSearch(e){var a;const s=(null===(a=e.target.value)||void 0===a?void 0:a.toLowerCase())||"";clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.filteredBooks=s?this.books.filter(d=>d.titulo.toLowerCase().includes(s)):this.books},300)}presentAlert(e){var a=this;return(0,g.A)(function*(){yield(yield a.alertController.create({header:"Confirmar Empr\xe9stimo",subHeader:"Prazo de devolu\xe7\xe3o: 14 dias",message:"\n    Multa de R$1,00 por dia em caso de atraso.\n    Voc\xea pode renovar por mais 7 dias.\n  ",buttons:[{text:"Cancelar",role:"cancel"},{text:"Confirmar",handler:()=>{console.log(`Empr\xe9stimo confirmado para o livro: ${e.titulo}`)}}]})).present()})()}}return(t=n).\u0275fac=function(e){return new(e||t)(o.rXU(k),o.rXU(r.hG))},t.\u0275cmp=o.VBU({type:t,selectors:[["app-list"]],decls:10,vars:1,consts:[[1,"book-author",2,"margin-top","4px"],["placeholder","Pesquisar livros...",2,"margin-bottom","12px",3,"ionInput"],["lines","none","class","list-card",4,"ngFor","ngForOf"],["lines","none",1,"list-card"],[1,"book-title"],[1,"book-author"],[1,"book-rating"],[4,"ngFor","ngForOf"],[1,"book-rating-value"],[1,"book-available"],["slot","end","color","primary",1,"alugar-btn",3,"click"],[2,"font-size","1.1em",3,"name"]],template:function(e,a){1&e&&(o.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),o.EFF(3,"Lista de Livros"),o.k0s(),o.j41(4,"div",0),o.EFF(5," Encontre seu pr\xf3ximo livro para alugar "),o.k0s()(),o.j41(6,"ion-card-content")(7,"ion-searchbar",1),o.bIt("ionInput",function(d){return a.onSearch(d)}),o.k0s(),o.j41(8,"ion-list"),o.DNE(9,x,14,7,"ion-item",2),o.k0s()()()),2&e&&(o.R7$(9),o.Y8G("ngForOf",a.filteredBooks))},dependencies:[r.bv,r.Jm,r.b_,r.I9,r.ME,r.tN,r.iq,r.uz,r.he,r.nf,r.S1,r.Gw,c.Sq],styles:[".list-card[_ngcontent-%COMP%]{margin-bottom:12px;border-radius:12px;box-shadow:0 2px 8px #0001}.book-title[_ngcontent-%COMP%]{font-weight:700}.book-author[_ngcontent-%COMP%]{font-size:.95em;color:var(--ion-color-medium)}.book-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;margin:4px 0}.book-rating-value[_ngcontent-%COMP%]{font-size:.95em;color:#555}.book-available[_ngcontent-%COMP%]{font-size:.95em;color:#1976d2}.alugar-btn[_ngcontent-%COMP%]{border-radius:8px}"]}),n})();const P=[{path:"",component:(()=>{var t;class n{constructor(){}ngOnInit(){}}return(t=n).\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.VBU({type:t,selectors:[["app-books"]],standalone:!1,decls:4,vars:0,consts:[["fullscreen","true"],[1,"container"],[1,"cards"]],template:function(e,a){1&e&&(o.j41(0,"ion-content",0)(1,"div",1)(2,"div",2),o.nrm(3,"app-list"),o.k0s()()())},dependencies:[r.W9,m],styles:[".container[_ngcontent-%COMP%]{width:100%;max-width:414px;margin:0 auto;padding:16px;display:flex;flex-direction:column;gap:16px;min-height:100vh}.cards[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:40px;overflow-y:auto;display:flex;flex-direction:column;gap:16px;padding:16px;min-height:0}"]}),n})()}];let B=(()=>{var t;class n{}return(t=n).\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.$C({type:t}),t.\u0275inj=o.G2t({imports:[p.iI.forChild(P),p.iI]}),n})(),F=(()=>{var t;class n{}return(t=n).\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.$C({type:t}),t.\u0275inj=o.G2t({imports:[c.MD,v.YN,r.bv,B,m]}),n})()}}]);